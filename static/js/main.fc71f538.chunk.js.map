{"version":3,"sources":["component/background/bg.jpeg","component/header/albird.svg","component/background/index.js","component/header/index.js","component/footer/index.js","component/start/index.js","redux/actions/_actions.js","model/Participant.js","component/lottery-pool/index.js","redux/actions/lotteryPool.jsx","service/DrawService.js","utils/phone_mask.js","component/common/tag-cloud/index.js","component/lottery-drawing/index.js","component/lottery-edit/lottery-editable-table.js","redux/actions/lotteryDrawing.jsx","component/lottery-edit/index.js","component/lottery-setting/index.js","component/activity-setting/index.js","redux/actions/activitySetting.jsx","component/result/index.js","redux/reducers/lotteryPool.jsx","redux/reducers/activitySetting.jsx","redux/reducers/lotteryDrawing.jsx","redux/reducers/index.jsx","redux/store/index.jsx","app/index.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","particles","number","value","density","enable","value_area","color","shape","type","stroke","width","polygon","nb_sides","image","src","height","opacity","random","anim","speed","opacity_min","sync","size","size_min","line_linked","distance","Background","react_default","a","createElement","className","this","props","showBackground","particles_default","params","style","position","background","backgroundImage","concat","logo","backgroundSize","pointerEvents","children","Component","Header","activityName","connect","state","dataReducer","activitySetting","name","Footer","Date","getFullYear","target","href","Start","react_router_dom","to","_actions","Participant","phone","Object","classCallCheck","str","array","split","test","Error","participant","LotteryPool","_this","possibleConstructorReturn","getPrototypeOf","call","next","history","push","verifyParticipantsInput","Promise","resolve","reject","filter","item","replace","length","map","fromString","err","onTextChange","setState","allParticipantsInput","verifyParticipants","saveNameList","then","allParticipants","setLotteryPool","catch","error","participantToString","join","_this2","id","multiple","required","placeholder","defaultValue","onChange","event","outlineColor","validParticipantCount","disabled","onClick","_this3","message","lotteryPool","Action","DrawService","noDuplicate","isRolling","isPickBlocked","clearInterval","timer","all","setInterval","change","bind","oneItemIndex","splice","index","Math","floor","currentlySelectedIndex","currentlySelectedItem","onSelectedChangedCallback","callback","onPickBlockedChangedCallback","arguments","undefined","blocked","setPickBlocked","setTimeout","removeItem","instance","phone_mask","symbol","substr","class","$","window","TagCloud","settings","entries","tags","slice","tag","label","radius","radiusMin","bgDraw","opacityOver","opacityOut","opacitySpeed","fov","fontFamily","fontSize","fontColor","fontWeight","fontStyle","fontStretch","fontToUpperCase","$el","el","svg3DTagCloud","ref","React","LotteryDrawing","noPrize","isPrizeChanged","computeCurrentPrize","drawService","pickOneThenDo","selected","prize","currentPrize","addWinner","rollUp","console","getCurrentPrize","items","winners","winner","totalCount","lotteryDrawing","setting","find","lottery","existingCountOfCurrentPrize","getTitle","title","getContent","selectedParticipant","maskPhone","getButton","btnDisabled","tag_cloud","element","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","totalLotteryCount","reduce","sum","l","alert","goBack","launchFullscreen","document","documentElement","from","setOnSelectedChangedCallback","selectedItem","setNoDuplicate","setOnPickBlockedChangedCallback","uuidv4","require","DragHandle","SortableHandle","index_es","icon","faBars","SortableList","SortableContainer","_ref","onItemChange","SortableItem","SortableElement","_ref2","sortIndex","key","onBlur","e","parseInt","faTrashAlt","LotteryEditableItem","onSortEnd","_ref3","oldIndex","newIndex","setLottery","arrayMove","lotteries","nextProps","lotteryItemBodyRef","scrollTo","scrollHeight","useDragHandle","assign","faPlusCircle","LotteryEdit","lottery_editable_table","LotterySetting","component_lottery_edit","ActivitySetting","onNameChange","setActivityName","Result","winnerList","winnerGroups","reverse","winnerGroup","prizeName","forEach","findIndex","action","combineReducers","composeEnhancers","composeWithDevTools","getStore","recoverFromStorage","createStore","serializedState","localStorage","getItem","JSON","parse","loadState","applyMiddleware","logger","App","saveState","stringify","setItem","confirmRecovered","confirm","store","subscribe","onbeforeunload","getState","component_background","Provider","header","react_router","exact","path","component","footer","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","ReactDOM","render","app","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.fc71f538.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bg.622bb7a1.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/albird.aab060a4.svg\";","import React, { Component } from 'react';\nimport Particles from 'react-particles-js'\nimport logo from './bg.jpeg';\nimport './background.css';\nconst particles = {\n    number: {\n      value: 100,\n      density: {\n        enable: false,\n        value_area: 3200\n      }\n    },\n    color: {\n      value: \"#0FF\"\n    },\n    shape: {\n      type: \"circle\",\n      stroke: {\n        width: 0,\n        color: \"#000000\"\n      },\n      polygon: {\n        nb_sides: 5\n      },\n      image: {\n        src: \"\",\n        width: 100,\n        height: 100\n      }\n    },\n    opacity: {\n      value: 1,\n      random: true,\n      anim: {\n        enable: 1,\n        speed: 10,\n        opacity_min: .5,\n        sync: !1\n      }\n    },\n    size: {\n      value: 3,\n      random: true,\n      anim: {\n        enable: !1,\n        speed: 20,\n        size_min: 1,\n        sync: true\n      }\n    },\n    line_linked: {\n      enable: !0,\n      distance: 120,\n      color: \"#FF0\",\n      opacity: .6,\n      width: 1,\n    },\n  };\nclass Background extends Component {\n  render() {\n    return (\n      <div className={'particles'}>\n        { this.props.showBackground && <Particles\n          params={{\n            particles,\n          }}\n          style={{\n            position: 'fixed',\n            width: '100%',\n            height: '100%',\n            background: '#1a1a1a',\n            backgroundImage: `url(${logo})`,\n            backgroundSize: 'cover',\n            pointerEvents: 'none',\n          }}\n        /> }\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default Background;\n","import React, { Component } from 'react';\nimport logo from './albird.svg'\nimport { connect } from 'react-redux';\n\nclass Header extends Component {\n  render() {\n    return (\n     <header className={this.props.className}>\n       <img width={24}  height={24} src={logo}/>\n       <span>{this.props.activityName}</span>\n     </header>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  activityName: state.dataReducer.activitySetting.name,\n});\n\nexport default connect(mapStateToProps)(Header);","import React from 'react';\n\nconst Footer = (props) => (\n      <footer className={props.className}>\n        ©{new Date().getFullYear()}\n        <span> <a target='_blank' href='http://wangbaiyuan.cn'>Baiyuan Wang</a> </span>\n        All Rights Reversed.\n        <span>  <a target='_blank' href='https://github.com/geekeren/Magpie-LuckyDraw'>Github</a> </span>\n      </footer>\n);\n\nexport default Footer;\n","import React, { Component } from 'react';\nimport {\n  Link\n} from 'react-router-dom'\nimport './start.css';\n\nclass Start extends Component {\n  render() {\n    return (\n      <div><Link to=\"/activity-setting\" className=\"creat_new_activity\">创建一个抽奖活动</Link></div>\n    );\n  }\n}\n\nexport default Start;\n","export default {\n  SET_LOTTERY_POOL: 'SET_LOTTERY_POOL',\n  ADD_WINNER: 'ADD_WINNER',\n  SET_ACTIVITY_NAME: 'SET_ACTIVITY_NAME',\n  SET_LOTTERY_SETTING: 'SET_LOTTERY_SETTING'\n}","export default class Participant {\n  constructor( name, phone) {\n    this.name = name;\n    this.phone = phone;\n  }\n  static fromString(str) {\n    const array = str.split(/\\t+|\\s+/, 2);\n    if(array[0] && array[1]) {\n      if (!(/^[1][3-9][0-9]{9}$/.test(array[1]))) {\n        throw new Error(`'${array[0]}'的手机号有误: 请输入11位数字`);\n      }\n      return new Participant(array[0], array[1]);\n    }\n    throw new Error(`'${str}' 无效: 姓名和手机号都需要`);\n  }\n  static participantToString(participant) {\n    return `${participant.name}\\t${participant.phone}`;\n  }\n  toString() {\n    return `${this.name}\\t${this.phone}`;\n  }\n}","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport { setLotteryPool } from '../../redux/actions/lotteryPool'\nimport Participant from \"../../model/Participant\";\nimport './lottery-pool.css'\n\nclass LotteryPool extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: props.allParticipants && props.allParticipants.length > 0 ? '' : '抽奖池为空！',\n      allParticipantsInput: this.props.allParticipants.map(participant => Participant.participantToString(participant)).join(\"\\n\")\n    }\n  }\n\n  componentDidMount() {\n    this.verifyParticipants();\n  }\n\n  render() {\n    return (\n      <div className=\"lottery-pool\">\n        <header>抽奖池设置</header>\n        <section>每一行表示一名参与者（格式：‘姓名 手机号’）</section>\n        <div id=\"input_container\">\n          <textarea\n            id=\"nameList\"\n            type=\"text\"\n            multiple\n            required\n            placeholder=\"郭晓 13800138000\"\n            defaultValue={this.state.allParticipantsInput}\n            onChange={(event) => this.onTextChange(event.target.value)}\n            style={{ outlineColor: this.state.error ? '#ff5417' : '#50c617' }}\n          />\n          <div className={'notice_msg'}>\n            {this.state.error && <span className={'err_msg'}>{this.state.error}</span>}\n            {this.state.validParticipantCount &&\n            <div>参与者总数：{this.state.validParticipantCount}</div>\n            }\n          </div>\n        </div>\n        <section className={'next-btn'}>\n          <button disabled={!!this.state.error} className={!!this.state.error ? \"disable\" : ''}\n                  onClick={this.saveNameList}>NEXT\n          </button>\n        </section>\n      </div>\n    );\n  }\n\n  next = () => {\n    this.props.history.push(\"/lottery-setting\");\n  }\n\n  verifyParticipantsInput = (value) => {\n    return new Promise((resolve, reject) => {\n      try {\n        const allParticipants = value.split(\"\\n\")\n          .filter(item => !!item || item.replace(/(^s*)|(s*$)/g, \"\").length !== 0)\n          .map(item => Participant.fromString(item));\n        resolve(allParticipants);\n      } catch (err) {\n        reject(err)\n      }\n    });\n\n  }\n  onTextChange = (value) => {\n    this.setState({\n      allParticipantsInput: value,\n    }, () => {\n      this.verifyParticipants();\n    })\n  };\n  saveNameList = () => {\n    this.verifyParticipantsInput(this.state.allParticipantsInput)\n      .then(allParticipants => {\n        this.props.setLotteryPool(allParticipants);\n        this.next();\n      })\n      .catch(error => {\n        this.setState({\n          error\n        });\n      })\n  }\n\n  verifyParticipants() {\n    this.verifyParticipantsInput(this.state.allParticipantsInput)\n      .then((allParticipants) => {\n        if (allParticipants.length > 0) {\n          this.setState({\n            error: '',\n            validParticipantCount: allParticipants.length\n          });\n        } else {\n          this.setState({\n            error: '抽奖池为空！'\n          });\n        }\n      })\n      .catch(error => {\n        this.setState({\n          error: error.message\n        });\n      })\n  }\n}\n\nLotteryPool.propTypes = {\n  setLotteryPool: PropTypes.func.isRequired,\n};\nconst mapStateToProps = state => ({\n  allParticipants: state.dataReducer.lotteryPool.allParticipants,\n});\n\nexport default connect(mapStateToProps, { setLotteryPool })(LotteryPool);\n","import Action from './_actions'\nconst setLotteryPool = allParticipants => ({\n  type: Action.SET_LOTTERY_POOL,\n  allParticipants\n});\n\nconst addWinner = winner => ({\n  type: Action.ADD_WINNER,\n  winner\n});\n\nexport {\n  setLotteryPool,\n  addWinner\n}","export default class DrawService {\n\n  static instance;\n\n  constructor() {\n    this.noDuplicate = true;\n    this.isRolling = false;\n    this.isPickBlocked = false;\n  }\n\n  static from(all) {\n    if (!DrawService.instance) {\n      DrawService.instance = new DrawService();\n    }\n    DrawService.instance.all = all;\n    return DrawService.instance;\n  }\n\n  rollUp() {\n    if (!this.isRolling) {\n      clearInterval(this.timer);\n      if (this.all.length === 0) {\n        throw new Error(\"No item in pool\");\n      }\n      this.isRolling = true;\n      this.timer = setInterval(this.change.bind(this), 80);\n    }\n    return this;\n  }\n\n  removeItem(oneItemIndex) {\n    this.all.splice(oneItemIndex, 1);\n  }\n\n  change() {\n    const index = Math.floor(Math.random() * this.all.length);\n    this.currentlySelectedIndex = index;\n    this.currentlySelectedItem = this.all[index];\n    this.onSelectedChangedCallback(this.currentlySelectedItem);\n  }\n\n  setOnSelectedChangedCallback(callback) {\n    this.onSelectedChangedCallback = callback;\n    return this;\n  }\n  setOnPickBlockedChangedCallback(callback) {\n    this.onPickBlockedChangedCallback = callback;\n    return this;\n  }\n\n  setNoDuplicate(noDuplicate = true) {\n    this.noDuplicate = noDuplicate;\n    return this;\n  }\n\n  setPickBlocked(blocked) {\n    this.isPickBlocked = blocked;\n    this.onPickBlockedChangedCallback(blocked);\n  }\n  pickOneThenDo(callback) {\n\n    if (!this.isPickBlocked) {\n      this.setPickBlocked(true);\n      setTimeout((() => {\n        clearInterval(this.timer);\n        if (this.noDuplicate) {\n          this.removeItem(this.currentlySelectedIndex);\n        }\n        callback(this.currentlySelectedItem);\n        this.isRolling = false;\n        this.setPickBlocked(false);\n      }).bind(this), 1000, this);\n    }\n  }\n}\n","import React from 'react'\nexport default (phone, symbol) => {\n  return (<div>\n          {phone.substr(0, 3)}\n          <span class='mask'>{symbol}</span>\n          {phone.substr(7, 11)}\n    </div> );\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nconst $ = window.$;\n\nclass TagCloud extends React.Component {\n  componentDidMount() {\n    const displayTags = this.props.tags.length > 100 ? this.props.tags.slice(0, 100) : this.props.tags;\n    const entries = displayTags.map(tag => ({\n      label: tag\n    }));\n    const settings = {\n      entries: entries,\n      width: 1500,\n      height: 1024,\n      radius: '65%',\n      radiusMin: 75,\n      bgDraw: false,\n      opacityOver: 0.95,\n      opacityOut: 0.05,\n      opacitySpeed: 6,\n      fov: 800,\n      speed: 0.2,\n      fontFamily: 'Oswald, Arial, sans-serif',\n      fontSize: '16',\n      fontColor: '#eee',\n      fontWeight: 'normal',\n      fontStyle: 'normal',\n      fontStretch: 'normal',\n      fontToUpperCase: false\n    };\n    this.$el = $(this.el);\n    this.$el.svg3DTagCloud( settings );\n  }\n\n  render() {\n    return (\n        <div className=\"tag-cloud\" ref={el => this.el = el} />\n    );\n  }\n}\nTagCloud.propTypes = {\n  tags: PropTypes.array.isRequired,\n};\n\nexport default TagCloud;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport DrawService from \"../../service/DrawService\";\nimport { addWinner } from '../../redux/actions/lotteryPool';\nimport maskPhone from '../../utils/phone_mask';\nimport { connect } from 'react-redux';\nimport TagCloud from \"../common/tag-cloud\";\nimport './lottery-drawing.css'\n\nclass LotteryDrawing extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedParticipant: {},\n      currentPrize: '',\n      isPrizeChanged: false,\n      btnDisabled: false,\n    };\n  }\n\n  render() {\n    return (\n      <div className={\"lottery-drawing\"}>\n        <div className=\"name-cloud-container\">\n          <TagCloud tags={this.props.allParticipants.map(participant => participant.name)}/>\n        </div>\n        <div>\n          <header className={'prize-title'}>\n            {this.getTitle()}\n          </header>\n          <div className={'rolling'}>\n            {this.getContent()}\n          </div>\n          <button className={this.state.btnDisabled ? \"wait\" : \"\"} disabled={this.state.btnDisabled} onClick={this.onClick.bind(this)}>{this.getButton()}</button>\n        </div>\n      </div>\n    );\n  }\n\n  onClick = () => {\n    if (this.state.noPrize) {\n      this.props.history.push(\"/result\");\n    } else {\n      if (this.state.isPrizeChanged) {\n        this.setState({\n          isPrizeChanged: false,\n        });\n        this.computeCurrentPrize();\n        return;\n      }\n      try {\n        if (this.drawService.isRolling) {\n          this.drawService.pickOneThenDo((selected) => {\n            selected.prize = this.state.currentPrize;\n            this.props.addWinner(selected);\n            this.computeCurrentPrize();\n          })\n        } else {\n          this.drawService.rollUp();\n        }\n      } catch (err) {\n        console.error(err.message)\n      }\n    }\n\n  };\n\n  getCurrentPrize = (next) => {\n    const items = this.props.lotteryPool.winners.filter(winner => (winner.prize.id === this.state.currentPrize.id));\n    if (!next && (this.state.currentPrize.totalCount - items.length || 0) >= 0 && this.state.currentPrize) {\n      if ((this.state.currentPrize.totalCount - items.length || 0) === 0) {\n        this.setState({\n          isPrizeChanged: true,\n        });\n      }\n      return this.state.currentPrize;\n    }\n\n    return this.props.lotteryDrawing.setting.find((lottery) => {\n        const items = this.props.lotteryPool.winners.filter(winner => (winner.prize.id === lottery.id));\n        if ((lottery.totalCount - items.length || 0) <= 0) {\n          return false;\n        }\n        return true\n      }\n    );\n  }\n  computeCurrentPrize = () => {\n    const currentPrize = this.getCurrentPrize(this.state.isPrizeChanged);\n    if (currentPrize) {\n      const existingCountOfCurrentPrize = this.props.lotteryPool.winners.filter(winner => winner.prize.id === currentPrize.id).length;\n      this.setState({\n        currentPrize,\n        existingCountOfCurrentPrize\n      });\n    } else {\n      this.setState({\n        noPrize: true\n      });\n    }\n    return currentPrize;\n  };\n  getTitle = () => {\n    if (this.state.existingCountOfCurrentPrize === 0 && !this.state.isPrizeChanged) {\n      return `${this.state.currentPrize.title}(${this.state.currentPrize.totalCount}名)`\n    } else if(this.state.noPrize){\n      return \"\";\n    }\n    return `${this.state.currentPrize.title}(${this.state.existingCountOfCurrentPrize} / ${this.state.currentPrize.totalCount})`\n  };\n\n  getContent = () => {\n    if (!this.state.selectedParticipant.phone || (this.state.existingCountOfCurrentPrize === 0 && !this.drawService.isRolling && !this.state.isPrizeChanged)) {\n      return \"等待开奖\";\n    } else if(this.state.noPrize){\n      return \"抽奖结束\";\n    }\n    return (<div className=\"selectedParticipant\">\n      <div className=\"name\">{this.state.selectedParticipant.name}</div>\n      <div className=\"phone\">{maskPhone(this.state.selectedParticipant.phone, '😝😝😝😝')}</div>\n    </div>)\n  };\n\n  getButton = () => {\n    if (this.state.noPrize) {\n      return \"抽奖结果\";\n    } else if (this.drawService) {\n      return this.drawService.isRolling ? \"stop\" : (this.state.isPrizeChanged ? \"next\" : \"start\")\n    }\n      return '';\n  };\n\n  launchFullscreen(element) {\n    if (element.requestFullscreen) {\n      element.requestFullscreen();\n    } else if (element.mozRequestFullScreen) {\n      element.mozRequestFullScreen();\n    } else if (element.webkitRequestFullscreen) {\n      element.webkitRequestFullscreen();\n    } else if (element.msRequestFullscreen) {\n      element.msRequestFullscreen();\n    }\n  }\n\n  componentDidMount() {\n    const totalLotteryCount = this.props.lotteryDrawing.setting.reduce((sum, l) => (sum + l.totalCount), 0);\n    if (this.props.allParticipants.length < totalLotteryCount) {\n      alert(\"奖项数大于参与者数\");\n      this.props.history.goBack();\n      return ;\n    }\n    this.launchFullscreen(document.documentElement);\n    this.drawService = DrawService.from(this.props.allParticipants)\n      .setOnSelectedChangedCallback((selectedItem) => {\n        this.setState({\n          selectedParticipant: selectedItem,\n        });\n      })\n      .setNoDuplicate(true)\n      .setOnPickBlockedChangedCallback((blocked) => {\n        this.setState({\n          btnDisabled: blocked\n        });\n      });\n    this.computeCurrentPrize();\n  }\n}\n\nLotteryDrawing.propTypes = {\n  addWinner: PropTypes.func.isRequired,\n  // currentPrize: PropTypes.shape(),\n};\nconst mapStateToProps = state => ({\n  allParticipants: state.dataReducer.lotteryPool.allParticipants,\n  lotteryPool: state.dataReducer.lotteryPool,\n  lotteryDrawing: state.dataReducer.lotteryDrawing\n});\nexport default connect(mapStateToProps, { addWinner })(LotteryDrawing);\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars, faTrashAlt, faPlusCircle } from '@fortawesome/free-solid-svg-icons'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { SortableContainer, SortableElement, arrayMove, SortableHandle } from 'react-sortable-hoc';\nimport { setLottery } from '../../redux/actions/lotteryDrawing';\nconst uuidv4 = require('uuid/v4');\n\nconst DragHandle = SortableHandle(() => <FontAwesomeIcon icon={faBars} size={16} className={'drag-handle'}/>);\nconst SortableList = SortableContainer(({ items, onItemChange }) => {\n  const SortableItem = SortableElement(({ value, sortIndex }) =>\n    <div key={sortIndex} className=\"lottery-item\">\n      <DragHandle/>\n      <div className=\"lottery-item-name\">\n        <input\n          type={'text'}\n          defaultValue={value.title}\n          onBlur={e => {\n            items.find(lottery => lottery.id === value.id).title = e.target.value\n            onItemChange(items)\n          }}\n        /></div>\n      <div className=\"lottery-item-count\">\n        <input\n          type={'number'}\n          defaultValue={value.totalCount}\n          onBlur={e => {\n            items.find(lottery => lottery.id === value.id).totalCount = parseInt(e.target.value)\n            onItemChange(items)\n          }}\n        />\n      </div>\n      <div className=\"lottery-item-remove\"\n           onClick={() => {\n             items = items.filter(lottery => lottery.id !== value.id)\n             onItemChange(items)\n           }}\n      >\n        <FontAwesomeIcon\n          icon={faTrashAlt}/>\n      </div>\n    </div>\n  );\n  return (\n    <div>\n      {items.map((value, index) => (\n        <SortableItem\n          key={`item-${index}`}\n          index={index}\n          value={value}\n          sortIndex={index}\n        />\n      ))}\n    </div>\n  );\n});\n\nclass LotteryEditableItem extends React.Component {\n\n  componentWillReceiveProps(nextProps) {\n    setTimeout(() => {\n      if (this.lotteryItemBodyRef) {\n        this.lotteryItemBodyRef.scrollTo(this.lotteryItemBodyRef.scrollHeight, this.lotteryItemBodyRef.scrollHeight);\n      }\n    }, 100)\n  }\n\n  onSortEnd = ({ oldIndex, newIndex }) => {\n    this.props.setLottery(arrayMove(this.props.lotteries, oldIndex, newIndex));\n  };\n\n  render() {\n    return (\n      <div>\n        <div className={\"lottery-item-body\"} ref={el => this.lotteryItemBodyRef = el}>\n          <SortableList\n            useDragHandle\n            items={this.props.lotteries}\n            onItemChange={items => this.props.setLottery(Object.assign([], items))}\n            onSortEnd={this.onSortEnd.bind(this)}/>\n        </div>\n        <div className=\"lottery-item-add\"\n             onClick={() => {\n               const items = this.props.lotteries;\n               items.push({\n                 id: uuidv4(),\n                 title: '幸运奖',\n                 totalCount: 3,\n               })\n               this.props.setLottery(Object.assign([], items))\n             }}\n        >\n          <FontAwesomeIcon\n            icon={faPlusCircle}/>\n          添加奖项\n        </div>\n      </div>\n    )\n  }\n}\n\nLotteryEditableItem.propTypes = {\n  lotteries: PropTypes.array,\n  setLottery: PropTypes.func,\n};\nconst mapStateToProps = state => ({\n  lotteries: state.dataReducer.lotteryDrawing.setting\n});\n\nexport default connect(mapStateToProps, { setLottery })(LotteryEditableItem);\n","import Action from './_actions'\nconst setLottery = lottery => ({\n  type: Action.SET_LOTTERY_SETTING,\n  lottery\n});\n\nexport {\n  setLottery\n}","import React from \"react\";\nimport './lottery-edit.css';\nimport LotteryEditableTable from './lottery-editable-table';\n\nclass LotteryEdit extends React.Component {\n  render() {\n    return (<div>\n      <div className=\"prizes-container\">\n        <div className=\"lottery-items-header\">\n          <div className=\"lottery-item-name\">奖项</div>\n          <div className=\"lottery-item-count\">数量</div>\n        </div>\n        <LotteryEditableTable />\n      </div>\n\n    </div>)\n  }\n}\nexport default  LotteryEdit;\n\n","import React, { Component } from 'react';\nimport './lottery-setting.css'\nimport LotteryEdit from \"../lottery-edit/index\";\n\nclass LotterySetting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: '',\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"lottery-setting\">\n        <header>奖项设置</header>\n        <section className=\"lottery-edit\">\n          <LotteryEdit/>\n        </section>\n        <section className={'next-btn'}>\n          <button onClick={this.next}>NEXT</button>\n        </section>\n      </div>\n    );\n  }\n\n  next = () => {\n    this.props.history.push(\"/lottery-drawing\")\n  }\n}\n\nexport default LotterySetting;\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport { setActivityName } from '../../redux/actions/activitySetting'\nimport './activity-setting.css'\n\nclass ActivitySetting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activityName: props.activityName\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"activity-setting\">\n        <div>\n          <header>活动名称</header>\n          <section>\n            <input defaultValue={this.props.activityName} onChange={this.onNameChange.bind(this)}/>\n          </section>\n          <section className={'next-btn'}>\n            <button disabled={!this.state.activityName} className={!this.state.activityName ? \"disable\" : ''} onClick={this.next.bind(this)}>NEXT</button>\n          </section>\n        </div>\n      </div>\n    );\n  }\n  onNameChange = (element) => {\n    this.setState({\n      activityName: element.target.value\n    })\n  };\n  next = () => {\n    this.props.setActivityName(this.state.activityName);\n    this.props.history.push(\"/lottery-pool\")\n  }\n\n}\n\nActivitySetting.propTypes = {\n  setActivityName: PropTypes.func.isRequired,\n  activityName: PropTypes.string.isRequired,\n};\nconst mapStateToProps = state => ({\n  activityName: state.dataReducer.activitySetting.name,\n});\n\nexport default connect(mapStateToProps, { setActivityName })(ActivitySetting);\n","import Action from './_actions'\nconst setActivityName = name => ({\n  type: Action.SET_ACTIVITY_NAME,\n  name\n});\nexport {\n  setActivityName\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport maskPhone from '../../utils/phone_mask';\nimport './result.css';\n\nclass Result extends Component {\n  render() {\n    return (\n      <div>\n        <div>{this.winnerList()}</div>\n      </div>\n    );\n  }\n\n  winnerList() {\n    return (<div className=\"result_part\">\n      {\n        this.props.winnerGroups.reverse().map(winnerGroup => (<div>\n          <header className=\"special_prize_result_header\">{winnerGroup.prizeName}</header>\n          {winnerGroup.winner.map(winner =>\n            (<div className=\"result_item\">\n              <div className=\"result_name\">{winner.name}</div>\n              <div className=\"result_phone\">{maskPhone(winner.phone, '****')}</div>\n            </div>)\n          )}\n\n        </div>))\n      }\n    </div>)\n  }\n}\n\nconst mapStateToProps = state => {\n  const winners = state.dataReducer.lotteryPool.winners;\n  const winnerGroups = [];\n  winners.forEach(winner => {\n    const index = winnerGroups.findIndex((winnerGroup) => winnerGroup.prizeName === winner.prize.title);\n    if (index < 0) {\n      winnerGroups.push({\n        prizeName: winner.prize.title,\n        totalCount: winner.prize.totalCount,\n        winner: [winner]\n      })\n    } else {\n      winnerGroups[index].winner.push(winner);\n    }\n\n  });\n  return {\n    winnerGroups,\n  }\n};\nexport default connect(mapStateToProps)(Result);\n","import Action from '../actions/_actions'\n\nconst initialState = () => ({\n  allParticipants: [],\n  winners: []\n});\nconst lotteryPool = (state = initialState(), action) => {\n  switch (action.type) {\n    case Action.SET_LOTTERY_POOL:\n      state.allParticipants = action.allParticipants || [];\n      break;\n    case Action.ADD_WINNER:\n      if (action.winner) {\n        state.winners.push(action.winner);\n      }\n\n  }\n  return Object.assign({}, state);\n};\n\nexport default lotteryPool\n","import Action from '../actions/_actions'\n\nconst initialState = () => ({\n  name: \"\",\n});\nconst activitySetting = (state = initialState(), action) => {\n  switch (action.type) {\n    case Action.SET_ACTIVITY_NAME:\n      state.name = action.name || \"Magpie 抽奖平台\";\n  }\n  return Object.assign({}, state);\n};\n\nexport default activitySetting","import Action from '../actions/_actions'\n\nconst uuidv4 = require('uuid/v4');\nconst initialState = () => ({\n    setting: [{\n      id: uuidv4(),\n      title: '三等奖',\n      totalCount: 3,\n    },{\n      id: uuidv4(),\n      title: '二等奖',\n      totalCount: 2,\n    },{\n      id: uuidv4(),\n      title: '一等奖',\n      totalCount: 1,\n    }]\n  }\n);\nconst lotteryDrawing = (state = initialState(), action) => {\n  switch (action.type) {\n    case Action.SET_LOTTERY_SETTING:\n      state.setting = action.lottery;\n  }\n  return Object.assign({}, state);\n};\n\nexport default lotteryDrawing","import { combineReducers } from 'redux';\nimport lotteryPool from './lotteryPool';\nimport activitySetting from './activitySetting';\nimport lotteryDrawing from './lotteryDrawing';\n\nexport default combineReducers({\n  lotteryPool,\n  activitySetting,\n  lotteryDrawing,\n});\n","import { applyMiddleware, combineReducers, createStore } from 'redux';\nimport logger from 'redux-logger';\nimport { composeWithDevTools } from 'redux-devtools-extension/logOnlyInProduction';\nimport dataReducer from '../reducers';\n\nconst loadState = () => {\n  const serializedState = localStorage.getItem('state');\n  return JSON.parse(serializedState);\n};\nconst composeEnhancers = composeWithDevTools({});\nconst getStore = recoverFromStorage => createStore(\n  combineReducers({\n    dataReducer,\n  }),\n  recoverFromStorage ? loadState() : undefined,\n  composeEnhancers(\n    applyMiddleware(logger),\n  ),\n);\n\nexport default getStore;\n","import React, { Component } from 'react';\nimport { Redirect, Route, Switch } from 'react-router';\nimport Background from '../component/background';\nimport Header from '../component/header';\nimport Footer from '../component/footer';\nimport './App.css';\nimport Start from \"../component/start\";\nimport LotteryPool from \"../component/lottery-pool\";\nimport LotteryDrawing from \"../component/lottery-drawing\";\nimport LotterySetting from \"../component/lottery-setting\";\nimport ActivitySetting from \"../component/activity-setting\";\nimport Result from \"../component/result\";\nimport Provider from \"react-redux/es/components/Provider\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport getStore from \"../redux/store\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      confirmRecovered: false,\n    }\n  }\n\n  componentDidMount() {\n    const serializedState = localStorage.getItem('state');\n    if (serializedState && window.confirm('是否恢复上次数据？')) {\n      this.store = getStore(true)\n    } else {\n      this.store = getStore(false)\n      localStorage.removeItem('state');\n    }\n    this.setState({\n      confirmRecovered: true,\n    })\n    this.store.subscribe(() => {\n      window.onbeforeunload = (e) => {\n        const state = this.store.getState();\n        this.saveState(state);\n      };\n    })\n  }\n\n  saveState = (state) => {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('state', serializedState);\n  };\n\n  render() {\n    return (\n      <BrowserRouter>\n        <Background\n          showBackground={true}\n        >\n          {!this.state.confirmRecovered ?\n            undefined\n            :\n            <Provider store={this.store}>\n              <div>\n                <Header className={'header'}/>\n                <article className={'main'}>\n                  <Switch>\n                    <Route exact path='/' component={Start}/>\n                    <Route path='/result' component={Result}/>\n                    <Route path='/lottery-drawing' component={LotteryDrawing}/>\n                    <Route path='/lottery-pool' component={LotteryPool}/>\n                    <Route path='/lottery-setting' component={LotterySetting}/>\n                    <Route path='/activity-setting' component={ActivitySetting}/>\n                    <Redirect from=\"/*\" to=\"/\"/>\n                  </Switch>\n                </article>\n                <Footer className={'footer'}/>\n              </div>\n            </Provider>\n          }\n        </Background>\n      </BrowserRouter>);\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\nimport registerServiceWorker from './registerServiceWorker';\nReactDOM.render(<App/>, document.getElementById('root')\n);\nregisterServiceWorker();\n"],"sourceRoot":""}